<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Camera</title>
</head>
<body>
	<video id="video" width="800" height="600" autoplay></video>
	<button id="captureBtn" onclick="capture()">Capture</button>
	<canvas id="canvas"></canvas>

	<script>
		const videoElement = document.getElementById("video");
		const captureButton = document.getElementById("captureBtn");
		const canvasElement = document.getElementById("canvas");
		const canvasContext = canvasElement.getContext("2d");

		navigator.mediaDevices.getUserMedia({ video: true })
			.then(function (stream) {
				videoElement.srcObject = stream;
			})
			.catch(function (error) {
				console.error("Error accessing the camera: ", error);
			});

		function capture() {
			canvasElement.width = videoElement.videoWidth; // 캔버스 너비를 비디오의 너비로 설정
			canvasElement.height = videoElement.videoHeight; // 캔버스 높이를 비디오의 높이로 설정
			canvasContext.drawImage(videoElement, 0, 0, canvasElement.width, canvasElement.height);
			const picture = canvasElement.toDataURL("image/png");
			const downloadLink = document.createElement("a");
			downloadLink.href = picture;
			downloadLink.download = "snapshot.png";
			downloadLink.click();
		}
	</script>
</body>
</html>
